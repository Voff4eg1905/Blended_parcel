{"mappings":"IA2BAA,EAAe,C,KA3BF,CAACC,EAAKC,KACjB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,QAIhCT,IACX,IACE,MAAME,EAAkBG,aAAaK,QAAQV,GAC7C,OAA2B,OAApBE,OAA2BS,EAAYR,KAAKS,MAAMV,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,UAI9BT,IACX,IACIK,aAAaQ,WAAWb,E,CAE5B,MAAOO,GACHC,QAAQD,MAAM,uBAAwBA,EAAME,Q,ICrBpD,MACMK,EAAOC,SAASC,cAAc,qBA2BpC,WACE,MAAMC,EAAYlB,EAAWmB,KA7BX,YA8BlB,IAAKD,EACH,OAGFE,OAAOC,QAAQH,GAAWI,SAAQ,EAAEC,EAAMrB,MACxCa,EAAKS,SAASD,GAAMrB,MAAQA,CAAK,G,CAhCrCuB,GAsBAV,EAAKW,iBAAiB,SApBNC,IACd,MAAMJ,KAAEA,EAAIrB,MAAEA,GAAUyB,EAAMC,O,IACbC,EAAjB,MAAMC,EAAuC,QAA5BD,EAAA7B,EAAWmB,KAPV,mBAO2B,IAA5BU,IAAgC,GAEjDC,EAASP,GAAQrB,EACjBF,EAAW+B,KAVO,WAUWD,EAAS,IAgBxCf,EAAKW,iBAAiB,UAbDC,IACnBA,EAAMK,iBACN,MAAMF,EAAW,GACA,IAAIG,SAASN,EAAMO,eAC3BZ,SAAQ,CAACpB,EAAOD,KACvB6B,EAAS7B,GAAOC,CAAK,IAEvBO,QAAQ0B,IAAIL,GACZ9B,EAAWoC,OArBO,YAsBlBT,EAAMO,cAAcG,OAAO","sources":["src/js/storage.js","src/form.js"],"sourcesContent":["const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error(\"Set state error: \", error.message);\n  }\n};\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error(\"Get state error: \", error.message);\n  }\n};\n\nconst remove = key => {\n    try {\n        localStorage.removeItem(key);\n     }\n    catch (error) {\n        console.error(\"Remove state error: \", error.message);\n    }\n}\n\nexport default {\n  save,\n    load,\n  remove,\n};","import storageApi from './js/storage';\n\nconst STORAGE_KEY = 'userInfo';\nconst form = document.querySelector('.js-contact-form');\n\ninitPage();\n\nconst onInput = event => {\n  const { name, value } = event.target;\n  const userData = storageApi.load(STORAGE_KEY) ?? {};\n\n  userData[name] = value;\n  storageApi.save(STORAGE_KEY, userData);\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  const userData = {};\n  const formInfo = new FormData(event.currentTarget);\n  formInfo.forEach((value, key) => {\n    userData[key] = value;\n  });\n  console.log(userData);\n  storageApi.remove(STORAGE_KEY);\n  event.currentTarget.reset();\n};\n\nform.addEventListener('input', onInput);\nform.addEventListener('submit', onFormSubmit);\n\nfunction initPage() {\n  const savedData = storageApi.load(STORAGE_KEY);\n  if (!savedData) {\n    return;\n  }\n\n  Object.entries(savedData).forEach(([name, value]) => {\n    form.elements[name].value = value;\n  });\n}\n"],"names":["$3fff5e8daf4b13a6$export$2e2bcd8739ae039","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","getItem","undefined","parse","removeItem","$3b3335b1879290c6$var$form","document","querySelector","savedData","load","Object","entries","forEach","name","elements","$3b3335b1879290c6$var$initPage","addEventListener","event","target","ref","userData","save","preventDefault","FormData","currentTarget","log","remove","reset"],"version":3,"file":"form.63f7aee8.js.map"}